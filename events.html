<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QUTRIX 2025 - Events</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html { scroll-behavior: smooth; }
    </style>
  </head>
  <body class="bg-gradient-to-br from-yellow-100 via-pink-100 to-purple-100 min-h-screen font-sans flex flex-col">
    <header class="fixed top-0 left-0 w-full bg-white bg-opacity-80 backdrop-blur shadow z-50">
      <div class="max-w-6xl mx-auto px-4 py-3 flex flex-row items-center justify-between gap-2">
        <!-- Logo and College Info -->
        <div class="flex items-center min-w-0 flex-1">
          <a href="https://www.gascgobi.ac.in/" target="_blank" rel="noopener noreferrer">
            <img src="assets/gobi-arts-science-logo.png" alt="Gobi Arts & Science College Logo" class="h-12 w-auto flex-shrink-0">
          </a>
          <div class="ml-4 text-left min-w-0 flex-1 truncate">
            <span class="block text-xs font-bold leading-tight text-gray-800 truncate">GOBI ARTS & SCIENCE COLLEGE</span>
            <span class="block text-[0.65rem] text-gray-600 truncate">Karattadipalayam, Gobichettipalayam - 638 453.</span>
            <span class="block text-[0.6rem] text-gray-500 truncate">(Govt.Aided Autonomous Co-educational Institution, Affiliated to Bharathiar University, Coimbatore)</span>
          </div>
        </div>
        <!-- Desktop Nav -->
        <nav class="hidden md:flex gap-6 text-sm font-semibold ml-4">
          <a href="index.html#home" class="hover:text-purple-600">Home</a>
          <a href="events.html#events" class="hover:text-purple-600 font-bold">Events</a>
          <a href="about.html" class="hover:text-purple-600">About</a>
          <a href="contact.html" class="hover:text-purple-600">Contact</a>
          <a href="note-from-dev.html" class="bg-purple-500 text-white px-4 py-1 rounded hover:bg-purple-600">Note from Dev</a>
        </nav>
        <!-- Hamburger -->
        <button id="menuBtn" class="md:hidden text-xl ml-4 flex-shrink-0" aria-label="Toggle menu" aria-expanded="false">&#9776;</button>
      </div>
      <div id="mobileMenu" class="hidden flex-col px-6 pb-4 space-y-3 text-sm">
        <a href="index.html#home" class="hover:text-purple-600">Home</a>
        <a href="events.html#events" class="hover:text-purple-600 font-bold">Events</a>
        <a href="about.html" class="hover:text-purple-600">About</a>
        <a href="contact.html" class="hover:text-purple-600">Contact</a>
        <a href="note-from-dev.html" class="bg-purple-500 text-white px-3 py-1 rounded hover:bg-purple-600 text-center">Note from Dev</a>
      </div>
    </header>
    <main class="pt-28 pb-20 px-4 max-w-5xl mx-auto flex-1 w-full">
      <h2 class="text-3xl font-bold text-center mb-8">Events</h2>
      <div class="grid md:grid-cols-2 gap-6 items-stretch">
        <div class="bg-white bg-opacity-80 rounded-xl p-6 shadow-md hover:shadow-lg transition flex flex-col h-full">
          <h3 class="text-xl font-semibold mb-1">Word Hunt</h3>
          <p class="text-sm italic mb-2">"Find it before it’s gone!"</p>
          <ul class="text-sm text-gray-700 list-disc pl-5">
            <li>2 Rounds: Puzzle + Rapid-Fire</li>
            <li>Solo or Duo Teams</li>
          </ul>
          <p class="mt-2 text-sm text-gray-600">Faculty: Prof. R. Meena – meena@techarts.edu</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: S. Priya – 98765 12345</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: K. Arun – 98765 54321</p>
          <button class="mt-4 bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition" onclick="openModal('wordhunt')">Register</button>
        </div>
        <div class="bg-white bg-opacity-80 rounded-xl p-6 shadow-md hover:shadow-lg transition flex flex-col h-full">
          <h3 class="text-xl font-semibold mb-1">Quiz</h3>
          <p class="text-sm italic mb-2">"Only the sharpest survive!"</p>
          <ul class="text-sm text-gray-700 list-disc pl-5">
            <li>3 Rounds • Teams of 2</li>
            <li>Tech + General knowledge</li>
          </ul>
          <p class="mt-2 text-sm text-gray-600">Faculty: Prof. D. Arjun – arjun@techarts.edu</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: S. Priya – 98765 12345</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: K. Arun – 98765 54321</p>
          <button class="mt-4 bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition" onclick="openModal('quiz')">Register</button>
        </div>
        <div class="bg-white bg-opacity-80 rounded-xl p-6 shadow-md hover:shadow-lg transition flex flex-col h-full">
          <h3 class="text-xl font-semibold mb-1">Marketing</h3>
          <p class="text-sm italic mb-2">"Sell the unsellable!"</p>
          <ul class="text-sm text-gray-700 list-disc pl-5">
            <li>Ad campaigns • Product Pitching</li>
            <li>Scored on creativity</li>
          </ul>
          <p class="mt-2 text-sm text-gray-600">Faculty: Prof. S. Kavitha – kavitha@techarts.edu</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: S. Priya – 98765 12345</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: K. Arun – 98765 54321</p>
          <button class="mt-4 bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition" onclick="openModal('marketing')">Register</button>
        </div>
        <div class="bg-white bg-opacity-80 rounded-xl p-6 shadow-md hover:shadow-lg transition flex flex-col h-full">
          <h3 class="text-xl font-semibold mb-1">Web Design</h3>
          <p class="text-sm italic mb-2">"Code your canvas!"</p>
          <ul class="text-sm text-gray-700 list-disc pl-5">
            <li>1.5 hrs • Theme on the spot</li>
            <li>Mobile-responsive bonus</li>
          </ul>
          <p class="mt-2 text-sm text-gray-600">Faculty: Prof. V. Hari – hari@techarts.edu</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: S. Priya – 98765 12345</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: K. Arun – 98765 54321</p>
          <button class="mt-4 bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition" onclick="openModal('webdesign')">Register</button>
        </div>
        <div class="bg-white bg-opacity-80 rounded-xl p-6 shadow-md hover:shadow-lg transition flex flex-col h-full">
          <h3 class="text-xl font-semibold mb-1">Paper Presentation</h3>
          <p class="text-sm italic mb-2">"Speak Science, Inspire Innovation!"</p>
          <ul class="text-sm text-gray-700 list-disc pl-5">
            <li>Abstract + 7-minute talk</li>
            <li>CS Topics allowed</li>
            <li>Presentations should be sent to us early AP</li>
          </ul>
          <p class="mt-2 text-sm text-gray-600">Faculty: Prof. A. Naveen – naveen@techarts.edu</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: S. Priya – 98765 12345</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: K. Arun – 98765 54321</p>
          <button class="mt-4 bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition" onclick="openModal('paper')">Register</button>
        </div>
        <div class="bg-white bg-opacity-80 rounded-xl p-6 shadow-md hover:shadow-lg transition flex flex-col h-full">
          <h3 class="text-xl font-semibold mb-1">Software Contest</h3>
          <p class="text-sm italic mb-2">"Build. Present. Impress!"</p>
          <ul class="text-sm text-gray-700 list-disc pl-5">
            <li>Team of up to 3 members</li>
            <li>Develop a software</li>
            <li>10-minute demo + Q&A</li>
          </ul>
          <p class="mt-2 text-sm text-gray-600">Faculty: Prof. L. Priya – priya@techarts.edu</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: S. Priya – 98765 12345</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: K. Arun – 98765 54321</p>
          <button class="mt-4 bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition" onclick="openModal('software')">Register</button>
        </div>
        <div class="bg-white bg-opacity-80 rounded-xl p-6 shadow-md hover:shadow-lg transition md:col-span-2 md:flex md:flex-col md:items-center flex flex-col h-full">
          <h3 class="text-xl font-semibold mb-1">Dance</h3>
          <p class="text-sm italic mb-2">"Move to the rhythm!"</p>
          <ul class="text-sm text-gray-700 list-disc pl-5">
            <li>Solo or Group Performance</li>
            <li>Max 5 minutes per team</li>
            <li>Any dance style allowed</li>
          </ul>
          <p class="mt-2 text-sm text-gray-600">Faculty: Prof. L. Priya – priya@techarts.edu</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: S. Priya – 98765 12345</p>
          <p class="mt-1 text-xs text-gray-500 truncate">Student: K. Arun – 98765 54321</p>
          <button class="mt-4 bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition" onclick="openModal('dance')">Register</button>
        </div>
      </div>
    </main>
    <footer class="bg-gray-100 py-4 text-center text-sm mt-10 w-full">
      <div class="mb-4 text-xs text-gray-700 leading-relaxed" style="margin-bottom:0rem;">
        <strong>Contact Us</strong><br>
        Dr. P. Prabhusundhar, Assistant Professor<br>
        GAIT Co-ordinator, Department of Computer Science,<br>
        Gobi Arts & Science College (Autonomous),<br>
        Contact No: <a href="tel:9600877997" class="text-purple-700 hover:underline">96008 77997</a>.<br>
        ~Vibe Coded by Mr. Mathiraja~
      </div>
    </footer>
    <!-- Event Modals -->
    <div id="modal-bg" class="fixed inset-0 bg-black bg-opacity-40 z-50 hidden"></div>
    <div id="wordhunt-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeModal('wordhunt')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Word Hunt Rules</h4>
        <ul class="list-disc pl-5 text-gray-700 text-sm mb-6">
          <li>Teams of 1-2. No use of mobile phones or external help.</li>
        </ul>
        <div class="flex justify-end gap-3 mt-6">
          <button class="px-4 py-2 rounded bg-gray-200 hover:bg-gray-300" onclick="closeModal('wordhunt')">Cancel</button>
          <button class="px-4 py-2 rounded bg-purple-500 text-white hover:bg-purple-600" onclick="openRegistration('wordhunt')">Continue</button>
        </div>
      </div>
    </div>
    <div id="quiz-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeModal('quiz')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Quiz Rules</h4>
        <ul class="list-disc pl-5 text-gray-700 text-sm mb-6">
          <li>Teams of 2. No electronic devices allowed. Tie-breakers at judges' discretion.</li>
        </ul>
        <div class="flex justify-end gap-3 mt-6">
          <button class="px-4 py-2 rounded bg-gray-200 hover:bg-gray-300" onclick="closeModal('quiz')">Cancel</button>
          <button class="px-4 py-2 rounded bg-purple-500 text-white hover:bg-purple-600" onclick="openRegistration('quiz')">Continue</button>
        </div>
      </div>
    </div>
    <div id="marketing-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeModal('marketing')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Marketing Rules</h4>
        <ul class="list-disc pl-5 text-gray-700 text-sm mb-6">
          <li>Teams of up to 3. Props allowed. Time limit strictly enforced.</li>
        </ul>
        <div class="flex justify-end gap-3 mt-6">
          <button class="px-4 py-2 rounded bg-gray-200 hover:bg-gray-300" onclick="closeModal('marketing')">Cancel</button>
          <button class="px-4 py-2 rounded bg-purple-500 text-white hover:bg-purple-600" onclick="openRegistration('marketing')">Continue</button>
        </div>
      </div>
    </div>
    <div id="webdesign-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeModal('webdesign')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Web Design Rules</h4>
        <ul class="list-disc pl-5 text-gray-700 text-sm mb-6">
          <li>Solo. Only provided systems and software to be used.</li>
        </ul>
        <div class="flex justify-end gap-3 mt-6">
          <button class="px-4 py-2 rounded bg-gray-200 hover:bg-gray-300" onclick="closeModal('webdesign')">Cancel</button>
          <button class="px-4 py-2 rounded bg-purple-500 text-white hover:bg-purple-600" onclick="openRegistration('webdesign')">Continue</button>
        </div>
      </div>
    </div>
    <div id="paper-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeModal('paper')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Paper Presentation Rules</h4>
        <ul class="list-disc pl-5 text-gray-700 text-sm mb-6">
          <li>Solo. Abstract must be submitted in advance. Plagiarism will lead to disqualification.</li>
        </ul>
        <div class="flex justify-end gap-3 mt-6">
          <button class="px-4 py-2 rounded bg-gray-200 hover:bg-gray-300" onclick="closeModal('paper')">Cancel</button>
          <button class="px-4 py-2 rounded bg-purple-500 text-white hover:bg-purple-600" onclick="openRegistration('paper')">Continue</button>
        </div>
      </div>
    </div>
    <div id="software-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeModal('software')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Software Contest Rules</h4>
        <ul class="list-disc pl-5 text-gray-700 text-sm mb-6">
          <li>Teams of up to 3. Bring your own laptop if required. Demo must be live.</li>
        </ul>
        <div class="flex justify-end gap-3 mt-6">
          <button class="px-4 py-2 rounded bg-gray-200 hover:bg-gray-300" onclick="closeModal('software')">Cancel</button>
          <button class="px-4 py-2 rounded bg-purple-500 text-white hover:bg-purple-600" onclick="openRegistration('software')">Continue</button>
        </div>
      </div>
    </div>
    <div id="dance-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-2 sm:mx-4 p-2 sm:p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeModal('dance')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Dance Rules</h4>
        <ul class="list-disc pl-5 text-gray-700 text-sm mb-6">
          <li>Solo or group (max 5 per team). No inappropriate content. Props allowed.</li>
        </ul>
        <div class="flex justify-end gap-3 mt-6">
          <button class="px-4 py-2 rounded bg-gray-200 hover:bg-gray-300" onclick="closeModal('dance')">Cancel</button>
          <button class="px-4 py-2 rounded bg-purple-500 text-white hover:bg-purple-600" onclick="openRegistration('dance')">Continue</button>
        </div>
      </div>
    </div>
    <!-- Registration Modals (Stepper for all events) -->
    <div id="registration-wordhunt" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeRegistration('wordhunt')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Word Hunt Registration</h4>
        <div id="wordhunt-stepper" class="mb-4 flex items-center justify-center gap-2">
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="wordhuntStep===1?'bg-purple-500':'bg-gray-300'">1</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="wordhuntStep===2?'bg-purple-500':'bg-gray-300'">2</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="wordhuntStep===3?'bg-purple-500':'bg-gray-300'">3</div>
        </div>
        <form id="wordhunt-stepper-form" class="space-y-4 registration-form" data-event="Word Hunt" onsubmit="return submitStepper(event, 'wordhunt')" onreset="return resetRegistration('wordhunt')" enctype="multipart/form-data">
          <div id="wordhunt-step-1" class="step">
            <input type="text" name="college" placeholder="College Name" required class="w-full border rounded px-3 py-2 mb-2" />
            <input type="text" name="department" placeholder="Department" required class="w-full border rounded px-3 py-2" />
          </div>
          <div id="wordhunt-step-2" class="step hidden">
            <div class="flex gap-2">
              <input type="text" name="member1_name" placeholder="Member 1 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member1_roll" placeholder="Member 1 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex gap-2">
              <input type="text" name="member2_name" placeholder="Member 2 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member2_roll" placeholder="Member 2 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
          </div>
          <div id="wordhunt-step-3" class="step hidden">
            <input type="text" name="event" value="Word Hunt" readonly class="w-full border rounded px-3 py-2 bg-gray-100 cursor-not-allowed mb-2" />
            <label class="block text-sm text-gray-600">Student ID card (img/pdf)
              <input type="file" name="idcard" id="idcard-wordhunt" accept="image/*,application/pdf" multiple class="block mt-1" onchange="handleFileUpload(event, 'wordhunt')" />
              <div id="idcard-preview-wordhunt" class="mt-2 flex flex-wrap gap-2"></div>
              <div id="idcard-success-wordhunt" class="text-green-600 text-xs mt-1"></div>
            </label>
            <input type="tel" name="whatsapp" placeholder="Whatsapp Number" required pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="7" onkeydown="if(event.key==='Enter'){event.preventDefault();this.form.altphone.focus();}" />
            <input type="tel" name="altphone" placeholder="Alternate Phone Number (optional)" pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="8" />
            <input type="email" name="email" placeholder="Email" required title="Please enter a valid email address (e.g., user@example.com)" class="w-full border rounded px-3 py-2" tabindex="9" />
          </div>
          <div class="flex gap-2 mt-4">
            <button type="button" id="wordhunt-prev-btn" class="w-1/2 bg-gray-200 text-gray-700 py-2 rounded hover:bg-gray-300" onclick="stepperPrev('wordhunt')">Back</button>
            <button type="button" id="wordhunt-next-btn" class="w-1/2 bg-purple-500 text-white py-2 rounded hover:bg-purple-600" onclick="stepperNext('wordhunt')">Next</button>
            <button type="submit" id="wordhunt-submit-btn" class="w-full bg-purple-500 text-white py-2 rounded hover:bg-purple-600 hidden">Submit</button>
          </div>
        </form>
      </div>
    </div>
    <div id="registration-quiz" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeRegistration('quiz')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Quiz Registration</h4>
        <div id="quiz-stepper" class="mb-4 flex items-center justify-center gap-2">
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="quizStep===1?'bg-purple-500':'bg-gray-300'">1</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="quizStep===2?'bg-purple-500':'bg-gray-300'">2</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="quizStep===3?'bg-purple-500':'bg-gray-300'">3</div>
        </div>
        <form id="quiz-stepper-form" class="space-y-4 registration-form" data-event="Quiz" onsubmit="return submitStepper(event, 'quiz')" onreset="return resetRegistration('quiz')" enctype="multipart/form-data">
          <div id="quiz-step-1" class="step">
            <input type="text" name="college" placeholder="College Name" required class="w-full border rounded px-3 py-2 mb-2" />
            <input type="text" name="department" placeholder="Department" required class="w-full border rounded px-3 py-2" />
          </div>
          <div id="quiz-step-2" class="step hidden">
            <div class="flex gap-2">
              <input type="text" name="member1_name" placeholder="Member 1 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member1_roll" placeholder="Member 1 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex gap-2">
              <input type="text" name="member2_name" placeholder="Member 2 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member2_roll" placeholder="Member 2 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
          </div>
          <div id="quiz-step-3" class="step hidden">
            <input type="text" name="event" value="Quiz" readonly class="w-full border rounded px-3 py-2 bg-gray-100 cursor-not-allowed mb-2" />
            <label class="block text-sm text-gray-600">Student ID card (img/pdf)
              <input type="file" name="idcard" id="idcard-quiz" accept="image/*,application/pdf" multiple class="block mt-1" onchange="handleFileUpload(event, 'quiz')" />
              <div id="idcard-preview-quiz" class="mt-2 flex flex-wrap gap-2"></div>
              <div id="idcard-success-quiz" class="text-green-600 text-xs mt-1"></div>
            </label>
            <input type="tel" name="whatsapp" placeholder="Whatsapp Number" required pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="7" onkeydown="if(event.key==='Enter'){event.preventDefault();this.form.altphone.focus();}" />
            <input type="tel" name="altphone" placeholder="Alternate Phone Number (optional)" pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="8" />
            <input type="email" name="email" placeholder="Email" required title="Please enter a valid email address (e.g., user@example.com)" class="w-full border rounded px-3 py-2" tabindex="9" />
          </div>
          <div class="flex gap-2 mt-4">
            <button type="button" id="quiz-prev-btn" class="w-1/2 bg-gray-200 text-gray-700 py-2 rounded hover:bg-gray-300" onclick="stepperPrev('quiz')">Back</button>
            <button type="button" id="quiz-next-btn" class="w-1/2 bg-purple-500 text-white py-2 rounded hover:bg-purple-600" onclick="stepperNext('quiz')">Next</button>
            <button type="submit" id="quiz-submit-btn" class="w-full bg-purple-500 text-white py-2 rounded hover:bg-purple-600 hidden">Submit</button>
          </div>
        </form>
      </div>
    </div>
    <div id="registration-marketing" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeRegistration('marketing')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Marketing Registration</h4>
        <div id="marketing-stepper" class="mb-4 flex items-center justify-center gap-2">
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="marketingStep===1?'bg-purple-500':'bg-gray-300'">1</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="marketingStep===2?'bg-purple-500':'bg-gray-300'">2</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="marketingStep===3?'bg-purple-500':'bg-gray-300'">3</div>
        </div>
        <form id="marketing-stepper-form" class="space-y-4 registration-form" data-event="Marketing" onsubmit="return submitStepper(event, 'marketing')" onreset="return resetRegistration('marketing')" enctype="multipart/form-data">
          <div id="marketing-step-1" class="step">
            <input type="text" name="college" placeholder="College Name" required class="w-full border rounded px-3 py-2 mb-2" />
            <input type="text" name="department" placeholder="Department" required class="w-full border rounded px-3 py-2" />
          </div>
          <div id="marketing-step-2" class="step hidden">
            <div class="flex gap-2">
              <input type="text" name="member1_name" placeholder="Member 1 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member1_roll" placeholder="Member 1 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex gap-2">
              <input type="text" name="member2_name" placeholder="Member 2 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member2_roll" placeholder="Member 2 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
          </div>
          <div id="marketing-step-3" class="step hidden">
            <input type="text" name="event" value="Marketing" readonly class="w-full border rounded px-3 py-2 bg-gray-100 cursor-not-allowed mb-2" />
            <label class="block text-sm text-gray-600">Student ID card (img/pdf)
              <input type="file" name="idcard" id="idcard-marketing" accept="image/*,application/pdf" multiple class="block mt-1" onchange="handleFileUpload(event, 'marketing')" />
              <div id="idcard-preview-marketing" class="mt-2 flex flex-wrap gap-2"></div>
              <div id="idcard-success-marketing" class="text-green-600 text-xs mt-1"></div>
            </label>
            <input type="tel" name="whatsapp" placeholder="Whatsapp Number" required pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="7" onkeydown="if(event.key==='Enter'){event.preventDefault();this.form.altphone.focus();}" />
            <input type="tel" name="altphone" placeholder="Alternate Phone Number (optional)" pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="8" />
            <input type="email" name="email" placeholder="Email" required title="Please enter a valid email address (e.g., user@example.com)" class="w-full border rounded px-3 py-2" tabindex="9" />
          </div>
          <div class="flex gap-2 mt-4">
            <button type="button" id="marketing-prev-btn" class="w-1/2 bg-gray-200 text-gray-700 py-2 rounded hover:bg-gray-300" onclick="stepperPrev('marketing')">Back</button>
            <button type="button" id="marketing-next-btn" class="w-1/2 bg-purple-500 text-white py-2 rounded hover:bg-purple-600" onclick="stepperNext('marketing')">Next</button>
            <button type="submit" id="marketing-submit-btn" class="w-full bg-purple-500 text-white py-2 rounded hover:bg-purple-600 hidden">Submit</button>
          </div>
        </form>
      </div>
    </div>
    <div id="registration-webdesign" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeRegistration('webdesign')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Web Design Registration</h4>
        <div id="webdesign-stepper" class="mb-4 flex items-center justify-center gap-2">
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="webdesignStep===1?'bg-purple-500':'bg-gray-300'">1</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="webdesignStep===2?'bg-purple-500':'bg-gray-300'">2</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="webdesignStep===3?'bg-purple-500':'bg-gray-300'">3</div>
        </div>
        <form id="webdesign-stepper-form" class="space-y-4 registration-form" data-event="Web Design" onsubmit="return submitStepper(event, 'webdesign')" onreset="return resetRegistration('webdesign')" enctype="multipart/form-data">
          <div id="webdesign-step-1" class="step">
            <input type="text" name="college" placeholder="College Name" required class="w-full border rounded px-3 py-2 mb-2" />
            <input type="text" name="department" placeholder="Department" required class="w-full border rounded px-3 py-2" />
          </div>
          <div id="webdesign-step-2" class="step hidden">
            <div class="flex gap-2">
              <input type="text" name="member1_name" placeholder="Member 1 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member1_roll" placeholder="Member 1 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex gap-2">
              <input type="text" name="member2_name" placeholder="Member 2 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member2_roll" placeholder="Member 2 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
          </div>
          <div id="webdesign-step-3" class="step hidden">
            <input type="text" name="event" value="Web Design" readonly class="w-full border rounded px-3 py-2 bg-gray-100 cursor-not-allowed mb-2" />
            <label class="block text-sm text-gray-600">Student ID card (img/pdf)
              <input type="file" name="idcard" id="idcard-webdesign" accept="image/*,application/pdf" multiple class="block mt-1" onchange="handleFileUpload(event, 'webdesign')" />
              <div id="idcard-preview-webdesign" class="mt-2 flex flex-wrap gap-2"></div>
              <div id="idcard-success-webdesign" class="text-green-600 text-xs mt-1"></div>
            </label>
            <input type="tel" name="whatsapp" placeholder="Whatsapp Number" required pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="7" onkeydown="if(event.key==='Enter'){event.preventDefault();this.form.altphone.focus();}" />
            <input type="tel" name="altphone" placeholder="Alternate Phone Number (optional)" pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="8" />
            <input type="email" name="email" placeholder="Email" required title="Please enter a valid email address (e.g., user@example.com)" class="w-full border rounded px-3 py-2" tabindex="9" />
          </div>
          <div class="flex gap-2 mt-4">
            <button type="button" id="webdesign-prev-btn" class="w-1/2 bg-gray-200 text-gray-700 py-2 rounded hover:bg-gray-300" onclick="stepperPrev('webdesign')">Back</button>
            <button type="button" id="webdesign-next-btn" class="w-1/2 bg-purple-500 text-white py-2 rounded hover:bg-purple-600" onclick="stepperNext('webdesign')">Next</button>
            <button type="submit" id="webdesign-submit-btn" class="w-full bg-purple-500 text-white py-2 rounded hover:bg-purple-600 hidden">Submit</button>
          </div>
        </form>
      </div>
    </div>
    <div id="registration-paper" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeRegistration('paper')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Paper Presentation Registration</h4>
        <div id="paper-stepper" class="mb-4 flex items-center justify-center gap-2">
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="paperStep===1?'bg-purple-500':'bg-gray-300'">1</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="paperStep===2?'bg-purple-500':'bg-gray-300'">2</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="paperStep===3?'bg-purple-500':'bg-gray-300'">3</div>
        </div>
        <form id="paper-stepper-form" class="space-y-4 registration-form" data-event="Paper Presentation" onsubmit="return submitStepper(event, 'paper')" onreset="return resetRegistration('paper')" enctype="multipart/form-data">
          <div id="paper-step-1" class="step">
            <input type="text" name="college" placeholder="College Name" required class="w-full border rounded px-3 py-2 mb-2" />
            <input type="text" name="department" placeholder="Department" required class="w-full border rounded px-3 py-2" />
          </div>
          <div id="paper-step-2" class="step hidden">
            <div class="flex gap-2">
              <input type="text" name="member1_name" placeholder="Member 1 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member1_roll" placeholder="Member 1 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex gap-2">
              <input type="text" name="member2_name" placeholder="Member 2 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member2_roll" placeholder="Member 2 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex gap-2">
              <input type="text" name="member3_name" placeholder="Member 3 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member3_roll" placeholder="Member 3 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
          </div>
          <div id="paper-step-3" class="step hidden">
            <input type="text" name="event" value="Paper Presentation" readonly class="w-full border rounded px-3 py-2 bg-gray-100 cursor-not-allowed mb-2" />
            <label class="block text-sm text-gray-600">Student ID card (img/pdf)
              <input type="file" name="idcard" id="idcard-paper" accept="image/*,application/pdf" multiple class="block mt-1" onchange="handleFileUpload(event, 'paper')" />
              <div id="idcard-preview-paper" class="mt-2 flex flex-wrap gap-2"></div>
              <div id="idcard-success-paper" class="text-green-600 text-xs mt-1"></div>
            </label>
            <input type="tel" name="whatsapp" placeholder="Whatsapp Number" required pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="7" onkeydown="if(event.key==='Enter'){event.preventDefault();this.form.altphone.focus();}" />
            <input type="tel" name="altphone" placeholder="Alternate Phone Number (optional)" pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="8" />
            <input type="email" name="email" placeholder="Email" required title="Please enter a valid email address (e.g., user@example.com)" class="w-full border rounded px-3 py-2" tabindex="9" />
          </div>
          <div class="flex gap-2 mt-4">
            <button type="button" id="paper-prev-btn" class="w-1/2 bg-gray-200 text-gray-700 py-2 rounded hover:bg-gray-300" onclick="stepperPrev('paper')">Back</button>
            <button type="button" id="paper-next-btn" class="w-1/2 bg-purple-500 text-white py-2 rounded hover:bg-purple-600" onclick="stepperNext('paper')">Next</button>
            <button type="submit" id="paper-submit-btn" class="w-full bg-purple-500 text-white py-2 rounded hover:bg-purple-600 hidden">Submit</button>
          </div>
        </form>
      </div>
    </div>
    <div id="registration-software" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeRegistration('software')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Software Contest Registration</h4>
        <div id="software-stepper" class="mb-4 flex items-center justify-center gap-2">
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="softwareStep===1?'bg-purple-500':'bg-gray-300'">1</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="softwareStep===2?'bg-purple-500':'bg-gray-300'">2</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="softwareStep===3?'bg-purple-500':'bg-gray-300'">3</div>
        </div>
        <form id="software-stepper-form" class="space-y-4 registration-form" data-event="Software Contest" onsubmit="return submitStepper(event, 'software')" onreset="return resetRegistration('software')" enctype="multipart/form-data">
          <div id="software-step-1" class="step">
            <input type="text" name="college" placeholder="College Name" required class="w-full border rounded px-3 py-2 mb-2" />
            <input type="text" name="department" placeholder="Department" required class="w-full border rounded px-3 py-2" />
          </div>
          <div id="software-step-2" class="step hidden">
            <div class="flex gap-2">
              <input type="text" name="member1_name" placeholder="Member 1 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member1_roll" placeholder="Member 1 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex gap-2">
              <input type="text" name="member2_name" placeholder="Member 2 Name" required class="w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member2_roll" placeholder="Member 2 Roll No." required class="w-1/2 border rounded px-3 py-2 team-member" />
            </div>
          </div>
          <div id="software-step-3" class="step hidden">
            <input type="text" name="event" value="Software Contest" readonly class="w-full border rounded px-3 py-2 bg-gray-100 cursor-not-allowed mb-2" />
            <label class="block text-sm text-gray-600">Student ID card (img/pdf)
              <input type="file" name="idcard" id="idcard-software" accept="image/*,application/pdf" multiple class="block mt-1" onchange="handleFileUpload(event, 'software')" />
              <div id="idcard-preview-software" class="mt-2 flex flex-wrap gap-2"></div>
              <div id="idcard-success-software" class="text-green-600 text-xs mt-1"></div>
            </label>
            <input type="tel" name="whatsapp" placeholder="Whatsapp Number" required pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="7" onkeydown="if(event.key==='Enter'){event.preventDefault();this.form.altphone.focus();}" />
            <input type="tel" name="altphone" placeholder="Alternate Phone Number (optional)" pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="8" />
            <input type="email" name="email" placeholder="Email" required title="Please enter a valid email address (e.g., user@example.com)" class="w-full border rounded px-3 py-2" tabindex="9" />
          </div>
          <div class="flex gap-2 mt-4">
            <button type="button" id="software-prev-btn" class="w-1/2 bg-gray-200 text-gray-700 py-2 rounded hover:bg-gray-300" onclick="stepperPrev('software')">Back</button>
            <button type="button" id="software-next-btn" class="w-1/2 bg-purple-500 text-white py-2 rounded hover:bg-purple-600" onclick="stepperNext('software')">Next</button>
            <button type="submit" id="software-submit-btn" class="w-full bg-purple-500 text-white py-2 rounded hover:bg-purple-600 hidden">Submit</button>
          </div>
        </form>
      </div>
    </div>
    <div id="registration-dance" class="fixed inset-0 z-50 flex items-center justify-center hidden">
      <div class="bg-white rounded-xl shadow-lg max-w-md w-full mx-2 sm:mx-4 p-2 sm:p-6 relative animate-fade-in">
        <button class="absolute top-2 right-3 text-2xl text-gray-400 hover:text-purple-600 font-bold" onclick="closeRegistration('dance')">&times;</button>
        <h4 class="text-xl font-bold mb-2 text-purple-700">Dance Registration</h4>
        <div id="dance-stepper" class="mb-4 flex items-center justify-center gap-2">
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="currentStep===1?'bg-purple-500':'bg-gray-300'">1</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="currentStep===2?'bg-purple-500':'bg-gray-300'">2</div>
          <div class="h-1 w-8 bg-gray-300"></div>
          <div class="w-6 h-6 flex items-center justify-center rounded-full text-white" :class="currentStep===3?'bg-purple-500':'bg-gray-300'">3</div>
        </div>
        <form id="dance-stepper-form" class="space-y-4 registration-form" data-event="Dance" onsubmit="return submitDanceStepper(event)" onreset="return resetRegistration('dance')" enctype="multipart/form-data">
          <div id="dance-step-1" class="step">
            <input type="text" name="college" placeholder="College Name" required class="w-full border rounded px-3 py-2 mb-2" />
            <input type="text" name="department" placeholder="Department" required class="w-full border rounded px-3 py-2" />
          </div>
          <div id="dance-step-2" class="step hidden">
            <div class="flex flex-col gap-2 sm:flex-row">
              <input type="text" name="member1_name" placeholder="Member 1 Name (required)" required class="w-full sm:w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member1_roll" placeholder="Member 1 Roll No." required class="w-full sm:w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex flex-col gap-2 sm:flex-row">
              <input type="text" name="member2_name" placeholder="Member 2 Name (optional)" class="w-full sm:w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member2_roll" placeholder="Member 2 Roll No." class="w-full sm:w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex flex-col gap-2 sm:flex-row">
              <input type="text" name="member3_name" placeholder="Member 3 Name (optional)" class="w-full sm:w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member3_roll" placeholder="Member 3 Roll No." class="w-full sm:w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex flex-col gap-2 sm:flex-row">
              <input type="text" name="member4_name" placeholder="Member 4 Name (optional)" class="w-full sm:w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member4_roll" placeholder="Member 4 Roll No." class="w-full sm:w-1/2 border rounded px-3 py-2 team-member" />
            </div>
            <div class="flex flex-col gap-2 sm:flex-row">
              <input type="text" name="member5_name" placeholder="Member 5 Name (optional)" class="w-full sm:w-1/2 border rounded px-3 py-2 team-member" />
              <input type="text" name="member5_roll" placeholder="Member 5 Roll No." class="w-full sm:w-1/2 border rounded px-3 py-2 team-member" />
            </div>
          </div>
          <div id="dance-step-3" class="step hidden">
            <input type="text" name="event" value="Dance" readonly class="w-full border rounded px-3 py-2 bg-gray-100 cursor-not-allowed mb-2" />
            <label class="block text-sm text-gray-600">Student ID card (img/pdf)
              <input type="file" name="idcard" id="idcard-dance" accept="image/*,application/pdf" multiple class="block mt-1" onchange="handleFileUpload(event, 'dance')" />
              <div id="idcard-preview-dance" class="mt-2 flex flex-wrap gap-2"></div>
              <div id="idcard-success-dance" class="text-green-600 text-xs mt-1"></div>
            </label>
            <input type="tel" name="whatsapp" placeholder="Whatsapp Number" required pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="7" onkeydown="if(event.key==='Enter'){event.preventDefault();this.form.altphone.focus();}" />
            <input type="tel" name="altphone" placeholder="Alternate Phone Number (optional)" pattern="\d{10}" maxlength="10" title="Enter a 10-digit number" class="w-full border rounded px-3 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)" tabindex="8" />
            <input type="email" name="email" placeholder="Email" required title="Please enter a valid email address (e.g., user@example.com)" class="w-full border rounded px-3 py-2" tabindex="9" />
          </div>
          <div class="flex gap-2 mt-4">
            <button type="button" id="dance-prev-btn" class="w-1/2 bg-gray-200 text-gray-700 py-2 rounded hover:bg-gray-300" onclick="dancePrevStep()">Back</button>
            <button type="button" id="dance-next-btn" class="w-1/2 bg-purple-500 text-white py-2 rounded hover:bg-purple-600" onclick="danceNextStep()">Next</button>
            <button type="submit" id="dance-submit-btn" class="w-full bg-purple-500 text-white py-2 rounded hover:bg-purple-600 hidden">Submit</button>
          </div>
        </form>
      </div>
    </div>
    <script>
      const menuBtn = document.getElementById("menuBtn");
      const menu = document.getElementById("mobileMenu");
      // Add transition classes for smooth open/close
      menu.classList.add("transition-all", "duration-300", "ease-in-out");
      menuBtn.onclick = () => {
        menu.classList.toggle("hidden");
        if (!menu.classList.contains("hidden")) {
          menu.classList.add("flex", "opacity-100", "scale-100");
          menu.classList.remove("opacity-0", "scale-95");
        } else {
          menu.classList.remove("flex", "opacity-100", "scale-100");
          menu.classList.add("opacity-0", "scale-95");
        }
        // Toggle aria-expanded attribute
        const expanded = menuBtn.getAttribute("aria-expanded") === "true";
        menuBtn.setAttribute("aria-expanded", (!expanded).toString());
      };
      // Close menu on link click (mobile only)
      menu.querySelectorAll("a").forEach(link => {
        link.addEventListener("click", () => {
          if (window.innerWidth < 768 && !menu.classList.contains("hidden")) {
            menu.classList.add("opacity-0", "scale-95");
            setTimeout(() => {
              menu.classList.add("hidden");
              menu.classList.remove("flex", "opacity-100", "scale-100", "opacity-0", "scale-95");
              menuBtn.setAttribute("aria-expanded", "false");
            }, 300);
          }
        });
      });
      // Modal logic for event rules
      function openModal(event) {
        document.getElementById('modal-bg').classList.remove('hidden');
        document.getElementById(event+'-modal').classList.remove('hidden');
        document.body.classList.add('overflow-hidden');
      }
      function closeModal(event) {
        document.getElementById('modal-bg').classList.add('hidden');
        document.getElementById(event+'-modal').classList.add('hidden');
        document.body.classList.remove('overflow-hidden');
      }
      // Close modal on background click
      document.getElementById('modal-bg').onclick = function() {
        const modals = ['wordhunt','quiz','marketing','webdesign','paper','software','dance'];
        modals.forEach(m => document.getElementById(m+'-modal').classList.add('hidden'));
        this.classList.add('hidden');
        document.body.classList.remove('overflow-hidden');
      };
      // Enhanced closeRegistration to reset form and clear files
      function closeRegistration(event) {
        // Reset form fields
        const form = document.getElementById((event === 'dance' ? 'dance-stepper-form' : event + '-stepper-form'));
        if (form) form.reset();
        // Clear file previews and file arrays
        if (idCardFiles[event]) {
          idCardFiles[event] = [];
          const preview = document.getElementById('idcard-preview-' + event);
          if (preview) preview.innerHTML = '';
          const success = document.getElementById('idcard-success-' + event);
          if (success) success.textContent = '';
        }
        // Hide modal
        document.getElementById('modal-bg').classList.add('hidden');
        document.getElementById('registration-' + event).classList.add('hidden');
        document.body.classList.remove('overflow-hidden');
      }
      // Close registration modal on background click
      document.getElementById('modal-bg').addEventListener('click', function() {
        const regModals = ['wordhunt','quiz','marketing','webdesign','paper','software','dance'];
        regModals.forEach(m => document.getElementById('registration-' + m).classList.add('hidden'));
      });
      // Registration form submission handler
      function submitRegistration(e, event) {
        e.preventDefault();
        const form = e.target;
        const formData = new FormData(form);
        // Remove any existing idcard files in FormData
        formData.delete('idcard');
        // Append files from idCardFiles[event]
        (idCardFiles[event] || []).forEach(file => {
          formData.append('idcard', file);
        });
        // ...simulate submission...
        alert('Registration submitted for ' + event + '!');
        closeRegistration(event);
        return false;
      }
      function resetRegistration(event) {
        // Optionally add logic to reset custom fields or show a message
        return true;
      }
      // File upload logic for Student ID card (append files up to 5 for dance, 4 for others, ≤10MB each)
      const idCardFiles = { wordhunt: [], quiz: [], marketing: [], webdesign: [], paper: [], software: [], dance: [] };
      function handleFileUpload(e, event) {
        const input = e.target;
        const newFiles = Array.from(input.files);
        let files = idCardFiles[event] || [];
        // Set max files: 5 for dance, 4 for others
        const maxFiles = event === 'dance' ? 5 : 4;
        files = files.concat(newFiles);
        if (files.length > maxFiles) {
          document.getElementById('idcard-success-' + event).textContent = `You can upload up to ${maxFiles} files only.`;
          input.value = '';
          return;
        }
        // Validate all files
        let validFiles = [];
        for (let file of files) {
          if (!(file.type.startsWith('image/') || file.type === 'application/pdf')) {
            document.getElementById('idcard-success-' + event).textContent = 'Only image or PDF files are allowed.';
            input.value = '';
            return;
          }
          if (file.size > 10 * 1024 * 1024) {
            document.getElementById('idcard-success-' + event).textContent = 'Each file must be ≤ 10MB.';
            input.value = '';
            return;
          }
          validFiles.push(file);
        }
        idCardFiles[event] = validFiles;
        // Show preview and allow removal
        const preview = document.getElementById('idcard-preview-' + event);
        const success = document.getElementById('idcard-success-' + event);
        preview.innerHTML = '';
        validFiles.forEach((file, idx) => {
          const fileDiv = document.createElement('div');
          fileDiv.className = 'relative flex flex-col items-center';
          if (file.type.startsWith('image/')) {
            const img = document.createElement('img');
            img.src = URL.createObjectURL(file);
            img.className = 'w-16 h-16 object-cover rounded border';
            fileDiv.appendChild(img);
          } else {
            const icon = document.createElement('span');
            icon.textContent = 'PDF';
            icon.className = 'w-16 h-16 flex items-center justify-center bg-gray-200 rounded border text-xs';
            fileDiv.appendChild(icon);
          }
          const removeBtn = document.createElement('button');
          removeBtn.type = 'button';
          removeBtn.textContent = '✕';
          removeBtn.className = 'absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs';
          removeBtn.onclick = function() {
            // Remove by unique identifier (name+size)
            const fileId = file.name + '_' + file.size;
            const newFiles = idCardFiles[event].filter(f => (f.name + '_' + f.size) !== fileId);
            idCardFiles[event] = newFiles;
            // Clear input so user can re-upload same file if needed
            input.value = '';
            // Re-render preview
            handleFileUpload({ target: input }, event);
          };
          fileDiv.appendChild(removeBtn);
          preview.appendChild(fileDiv);
        });
        if (validFiles.length > 0) {
          success.textContent = 'Files uploaded successfully!';
        } else {
          success.textContent = '';
        }
        // Always clear input after processing
        input.value = '';
      }
      // Registration form validation (update tooltip and pattern check)
      document.querySelectorAll('.registration-form').forEach(form => {
        form.onsubmit = function(ev) {
          // Team member validation
          const eventType = form.getAttribute('data-event');
          if (eventType === 'Dance') {
            // Only member1 is required, others optional but if name is filled, roll is required and vice versa
            const m1 = form.querySelector('[name=member1_name]');
            const m1r = form.querySelector('[name=member1_roll]');
            if (!m1.value.trim() || !m1r.value.trim()) {
              alert('Member 1 name and roll number are required.');
              ev.preventDefault();
              return false;
            }
            for (let i = 2; i <= 5; i++) {
              const m = form.querySelector(`[name=member${i}_name]`);
              const mr = form.querySelector(`[name=member${i}_roll]`);
              if ((m.value.trim() && !mr.value.trim()) || (!m.value.trim() && mr.value.trim())) {
                alert(`Please fill both name and roll number for member ${i}, or leave both blank.`);
                ev.preventDefault();
                return false;
              }
            }
          } else {
            let memberCount = 2;
            if (eventType === 'Paper Presentation') memberCount = 3;
            for (let i = 1; i <= memberCount; i++) {
              const m = form.querySelector(`[name=member${i}_name]`);
              const mr = form.querySelector(`[name=member${i}_roll]`);
              if (!m || !mr || !m.value.trim() || !mr.value.trim()) {
                alert(`All participant names and roll numbers are mandatory (${memberCount} required).`);
                ev.preventDefault();
                return false;
              }
            }
          }
          // Whatsapp and alternate phone validation
          const whatsapp = form.querySelector('[name=whatsapp]');
          const altphone = form.querySelector('[name=altphone]');
          if (!/^\d{10}$/.test(whatsapp.value)) {
            whatsapp.setCustomValidity('Enter a 10-digit number');
            whatsapp.reportValidity();
            ev.preventDefault();
            return false;
          } else {
            whatsapp.setCustomValidity('');
          }
          if (altphone.value && !/^\d{10}$/.test(altphone.value)) {
            altphone.setCustomValidity('Enter a 10-digit number');
            altphone.reportValidity();
            ev.preventDefault();
            return false;
          } else {
            altphone.setCustomValidity('');
          }
          // No custom email validation here; browser will handle it
          return true;
        };
      });
      function createCustomFileInput(inputId, event) {
        const input = document.getElementById(inputId);
        if (!input) return;
        // Hide the default input
        input.classList.add('hidden');
        // Create custom button if not already present
        if (!document.getElementById(inputId + '-custom-btn')) {
          const btn = document.createElement('button');
          btn.type = 'button';
          btn.id = inputId + '-custom-btn';
          btn.className = 'bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition mb-2';
          btn.textContent = 'Choose Files';
          btn.onclick = () => input.click();
          input.parentNode.insertBefore(btn, input);
          // File info span
          const info = document.createElement('span');
          info.id = inputId + '-info';
          info.className = 'ml-2 text-sm text-gray-700';
          btn.parentNode.insertBefore(info, btn.nextSibling);
          // Update info on change
          input.addEventListener('change', function() {
            if (input.files.length === 0) {
             

              info.textContent = '';
            } else if (input.files.length === 1) {
              info.textContent = input.files[0].name;
            } else {
              info.textContent = input.files.length + ' files selected';
            }
          });
        }
      }
      // Enhance all file inputs on DOMContentLoaded
      window.addEventListener('DOMContentLoaded', function() {
        [
          'idcard-wordhunt',
          'idcard-quiz',
          'idcard-marketing',
          'idcard-webdesign',
          'idcard-paper',
          'idcard-software',
          'idcard-dance'
        ].forEach(id => createCustomFileInput(id));
      });
      // Dance stepper logic
      let danceCurrentStep = 1;
      function showDanceStep(step) {
        danceCurrentStep = step;
        [1,2,3].forEach(i => {
          document.getElementById('dance-step-' + i).classList.toggle('hidden', i !== step);
        });
        // Stepper indicator (color)
        const stepper = document.getElementById('dance-stepper');
        if (stepper) {
          stepper.querySelectorAll('div').forEach((el, idx) => {
            if (el.classList.contains('w-6')) {
              el.classList.toggle('bg-purple-500', idx === (step-1)*2);
              el.classList.toggle('bg-gray-300', idx !== (step-1)*2);
            }
          });
        }
        // Button visibility
        document.getElementById('dance-prev-btn').classList.toggle('hidden', step === 1);
        document.getElementById('dance-next-btn').classList.toggle('hidden', step === 3);
        document.getElementById('dance-submit-btn').classList.toggle('hidden', step !== 3);
      }
      function danceNextStep() {
        if (danceCurrentStep === 1) {
          // Validate step 1
          const form = document.getElementById('dance-stepper-form');
          const college = form.querySelector('[name=college]');
          const dept = form.querySelector('[name=department]');
          if (!college.value.trim() || !dept.value.trim()) {
            college.reportValidity();
            dept.reportValidity();
            return;
          }
          showDanceStep(2);
        } else if (danceCurrentStep === 2) {
          // Validate step 2 (member fields)
          const form = document.getElementById('dance-stepper-form');
          const m1 = form.querySelector('[name=member1_name]');
          const m1r = form.querySelector('[name=member1_roll]');
          if (!m1.value.trim() || !m1r.value.trim()) {
            alert('Member 1 name and roll number are required.');
            return;
          }
          for (let i = 2; i <= 5; i++) {
            const m = form.querySelector(`[name=member${i}_name]`);
            const mr = form.querySelector(`[name=member${i}_roll]`);
            if ((m.value.trim() && !mr.value.trim()) || (!m.value.trim() && mr.value.trim())) {
              alert(`Please fill both name and roll number for member ${i}, or leave both blank.`);
              return;
            }
          }
          showDanceStep(3);
        }
      }
      function dancePrevStep() {
        if (danceCurrentStep > 1) showDanceStep(danceCurrentStep - 1);
      }
      function submitDanceStepper(e) {
        // Validate step 3 (contact info, file, email, phone)
        const form = document.getElementById('dance-stepper-form');
        const whatsapp = form.querySelector('[name=whatsapp]');
        const altphone = form.querySelector('[name=altphone]');
        if (!/^\d{10}$/.test(whatsapp.value)) {
          whatsapp.setCustomValidity('Enter a 10-digit number');
          whatsapp.reportValidity();
          e.preventDefault();
          return false;
        } else {
          whatsapp.setCustomValidity('');
        }
        if (altphone.value && !/^\d{10}$/.test(altphone.value)) {
          altphone.setCustomValidity('Enter a 10-digit number');
          altphone.reportValidity();
          e.preventDefault();
          return false;
        } else {
          altphone.setCustomValidity('');
        }
        // No custom email validation; browser will handle
        // File upload handled by existing logic
        // Submit as normal
        return submitRegistration(e, 'dance');
      }
      // Generic stepper logic for all events except dance
      const stepperState = { wordhunt: 1, quiz: 1, marketing: 1, webdesign: 1, paper: 1, software: 1 };
      function showStepperStep(event, step) {
        stepperState[event] = step;
        [1,2,3].forEach(i => {
          document.getElementById(`${event}-step-` + i).classList.toggle('hidden', i !== step);
        });
        // Stepper indicator (color)
        const stepper = document.getElementById(`${event}-stepper`);
        if (stepper) {
          stepper.querySelectorAll('div').forEach((el, idx) => {
            if (el.classList.contains('w-6')) {
              el.classList.toggle('bg-purple-500', idx === (step-1)*2);
              el.classList.toggle('bg-gray-300', idx !== (step-1)*2);
            }
          });
        }
        // Button visibility
        document.getElementById(`${event}-prev-btn`).classList.toggle('hidden', step === 1);
        document.getElementById(`${event}-next-btn`).classList.toggle('hidden', step === 3);
        document.getElementById(`${event}-submit-btn`).classList.toggle('hidden', step !== 3);
      }
      function stepperNext(event) {
        const form = document.getElementById(`${event}-stepper-form`);
        if (stepperState[event] === 1) {
          // Validate step 1
          const college = form.querySelector('[name=college]');
          const dept = form.querySelector('[name=department]');
          if (!college.value.trim() || !dept.value.trim()) {
            college.reportValidity();
            dept.reportValidity();
            return;
          }
          showStepperStep(event, 2);
        } else if (stepperState[event] === 2) {
          // Validate team members per event
          let memberCount = 2;
          if (event === 'paper') memberCount = 3;
          for (let i = 1; i <= memberCount; i++) {
            const m = form.querySelector(`[name=member${i}_name]`);
            const mr = form.querySelector(`[name=member${i}_roll]`);
            if (!m || !mr || !m.value.trim() || !mr.value.trim()) {
              alert(`All participant names and roll numbers are mandatory (${memberCount} required).`);
              return;
            }
          }
          showStepperStep(event, 3);
        }
      }
      function stepperPrev(event) {
        if (stepperState[event] > 1) showStepperStep(event, stepperState[event] - 1);
      }
      function submitStepper(e, event) {
        // Validate step 3 (contact info, file, email, phone)
        const form = document.getElementById(`${event}-stepper-form`);
        const whatsapp = form.querySelector('[name=whatsapp]');
        const altphone = form.querySelector('[name=altphone]');
        if (!/^\d{10}$/.test(whatsapp.value)) {
          whatsapp.setCustomValidity('Enter a 10-digit number');
          whatsapp.reportValidity();
          e.preventDefault();
          return false;
        } else {
          whatsapp.setCustomValidity('');
        }
        if (altphone.value && !/^\d{10}$/.test(altphone.value)) {
          altphone.setCustomValidity('Enter a 10-digit number');
          altphone.reportValidity();
          e.preventDefault();
          return false;
        } else {
          altphone.setCustomValidity('');
        }
        // No custom email validation; browser will handle
        // Submit as normal
        return submitRegistration(e, event);
      }
      // Show step 1 on modal open for all events
      function openRegistration(event) {
        document.getElementById('modal-bg').classList.remove('hidden');
        document.getElementById('registration-' + event).classList.remove('hidden');
        document.body.classList.add('overflow-hidden');
        if (event === 'dance') {
          showDanceStep(1);
        } else {
          showStepperStep(event, 1);
        }
      }
    </script>
  </body>
</html>
